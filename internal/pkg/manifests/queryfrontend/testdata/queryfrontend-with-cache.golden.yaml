- apiVersion: v1
  automountServiceAccountToken: true
  kind: ServiceAccount
  metadata:
    annotations:
      test-annotation: test-value
    labels:
      app.kubernetes.io/component: query-frontend
      app.kubernetes.io/instance: thanos-query-frontend-test-owner
      app.kubernetes.io/managed-by: thanos-operator
      app.kubernetes.io/name: thanos-query-frontend
      app.kubernetes.io/part-of: thanos
      operator.thanos.io/owner: test-owner
    name: thanos-query-frontend-test-owner
    namespace: test-namespace
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      test-annotation: test-value
    labels:
      app.kubernetes.io/component: query-frontend
      app.kubernetes.io/instance: thanos-query-frontend-test-owner
      app.kubernetes.io/managed-by: thanos-operator
      app.kubernetes.io/name: thanos-query-frontend
      app.kubernetes.io/part-of: thanos
      app.kubernetes.io/version: v0.40.1
      operator.thanos.io/owner: test-owner
    name: thanos-query-frontend-test-owner
    namespace: test-namespace
  spec:
    replicas: 0
    selector:
      matchLabels:
        app.kubernetes.io/component: query-frontend
        app.kubernetes.io/instance: thanos-query-frontend-test-owner
        app.kubernetes.io/managed-by: thanos-operator
        app.kubernetes.io/name: thanos-query-frontend
        app.kubernetes.io/part-of: thanos
        operator.thanos.io/owner: test-owner
    strategy: {}
    template:
      metadata:
        labels:
          app.kubernetes.io/component: query-frontend
          app.kubernetes.io/instance: thanos-query-frontend-test-owner
          app.kubernetes.io/managed-by: thanos-operator
          app.kubernetes.io/name: thanos-query-frontend
          app.kubernetes.io/part-of: thanos
          app.kubernetes.io/version: v0.40.1
          operator.thanos.io/owner: test-owner
      spec:
        containers:
        - args:
          - query-frontend
          - --http-address=0.0.0.0:9090
          - --query-frontend.downstream-url=http://thanos-query.test-namespace.svc:0
          - --query-frontend.log-queries-longer-than=10s
          - --query-range.split-interval=2h
          - --labels.split-interval=1h
          - --query-range.max-retries-per-request=3
          - --labels.max-retries-per-request=2
          - --cache-compression-type=snappy
          - |
            --query-range.response-cache-config=type: IN-MEMORY
            config:
              max_size: 256MB
              max_item_size: 32MB
          - |
            --labels.response-cache-config=type: IN-MEMORY
            config:
              max_size: 256MB
              max_item_size: 32MB
          - --query-frontend.compress-responses
          image: quay.io/thanos/thanos:v0.40.1
          livenessProbe:
            httpGet:
              path: /-/healthy
              port: 9090
          name: thanos-query-frontend
          ports:
          - containerPort: 9090
            name: http
            protocol: TCP
          readinessProbe:
            httpGet:
              path: /-/ready
              port: 9090
          resources: {}
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
              - ALL
            runAsNonRoot: true
        serviceAccountName: thanos-query-frontend-test-owner
  status: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      test-annotation: test-value
    labels:
      app.kubernetes.io/component: query-frontend
      app.kubernetes.io/instance: thanos-query-frontend-test-owner
      app.kubernetes.io/managed-by: thanos-operator
      app.kubernetes.io/name: thanos-query-frontend
      app.kubernetes.io/part-of: thanos
      app.kubernetes.io/version: v0.40.1
      operator.thanos.io/owner: test-owner
    name: thanos-query-frontend-test-owner
    namespace: test-namespace
  spec:
    ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: 9090
    selector:
      app.kubernetes.io/component: query-frontend
      app.kubernetes.io/instance: thanos-query-frontend-test-owner
      app.kubernetes.io/managed-by: thanos-operator
      app.kubernetes.io/name: thanos-query-frontend
      app.kubernetes.io/part-of: thanos
      operator.thanos.io/owner: test-owner
  status:
    loadBalancer: {}
- apiVersion: policy/v1
  kind: PodDisruptionBudget
  metadata:
    annotations:
      test-annotation: test-value
    labels:
      app.kubernetes.io/component: query-frontend
      app.kubernetes.io/instance: thanos-query-frontend-test-owner
      app.kubernetes.io/managed-by: thanos-operator
      app.kubernetes.io/name: thanos-query-frontend
      app.kubernetes.io/part-of: thanos
      app.kubernetes.io/version: v0.40.1
      operator.thanos.io/owner: test-owner
    name: thanos-query-frontend-test-owner
    namespace: test-namespace
  spec:
    maxUnavailable: 1
    selector:
      matchLabels:
        app.kubernetes.io/component: query-frontend
        app.kubernetes.io/instance: thanos-query-frontend-test-owner
        app.kubernetes.io/managed-by: thanos-operator
        app.kubernetes.io/name: thanos-query-frontend
        app.kubernetes.io/part-of: thanos
        operator.thanos.io/owner: test-owner
  status:
    currentHealthy: 0
    desiredHealthy: 0
    disruptionsAllowed: 0
    expectedPods: 0
